### Obtener notificaciones de un usuario
GET http://localhost:8000/social/notifications/user/2
Accept: application/json

### Obtener eventos que necesitan recordatorio
GET http://localhost:8000/social/notifications/reminders
Accept: application/json

### Actualizar evento y ver notificaci√≥n de cambio
PUT http://localhost:8000/events/1
Content-Type: application/json

{
  "date": "2025-12-31T18:00:00",
  "location": "Nueva Ubicaci√≥n - Actualizada"
}

### ========================================
### üîî TESTS DE NOTIFICACIONES
### ========================================

### ========================================
### PARTE 1: SETUP - Crear datos de prueba
### ========================================

### 1. Crear usuario de prueba para notificaciones
POST http://localhost:8000/auth/register
Content-Type: application/json

{
  "username": "usernotif",
  "email": "usernotif@example.com",
  "full_name": "Usuario Notificaciones",
  "password": "password123",
  "role": "participant"
}

### 2. Crear evento PR√ìXIMO (para recordatorio - ma√±ana)
POST http://localhost:8000/events/
Content-Type: application/json

{
  "title": "Evento Pr√≥ximo - Recordatorio Test",
  "description": "Evento para probar recordatorios de 24 horas",
  "date": "2025-11-23T10:00:00",
  "location": "Centro de Convenciones",
  "max_participants": 100,
  "organizer_id": 1
}

### 3. Crear evento en 1 semana (para cambios)
POST http://localhost:8000/events/
Content-Type: application/json

{
  "title": "Evento Pr√≥ximo - Test de Cambios",
  "description": "Evento para probar notificaciones de cambios",
  "date": "2025-11-29T15:00:00",
  "location": "Ubicaci√≥n Original",
  "max_participants": 50,
  "organizer_id": 1
}

### 4. Usuario se registra al evento del recordatorio (usar ID del paso 2)
POST http://localhost:8000/events/attend
Content-Type: application/json

{
  "user_id": 7,
  "event_id": 11
}

### 5. Usuario se registra al evento de cambios (usar ID del paso 3)
POST http://localhost:8000/events/attend
Content-Type: application/json

{
  "user_id": 7,
  "event_id": 12
}

### 6. M√°s usuarios se registran para mejor prueba
POST http://localhost:8000/events/attend
Content-Type: application/json

{
  "user_id": 2,
  "event_id": 11
}

### ========================================
### PARTE 2: TESTS DE RECORDATORIOS
### ========================================

### 7. üì± Obtener notificaciones del usuario (incluye recordatorios)
# Debe mostrar el evento pr√≥ximo como recordatorio
GET http://localhost:8000/social/notifications/user/7
Accept: application/json

### 8. üì± Obtener notificaciones de otro usuario (juan)
GET http://localhost:8000/social/notifications/user/2
Accept: application/json

### 9. üîî Obtener TODOS los eventos que necesitan recordatorio (Sistema)
# Este endpoint es √∫til para un sistema autom√°tico de env√≠o de emails/push
GET http://localhost:8000/social/notifications/reminders
Accept: application/json

### ========================================
### PARTE 3: TESTS DE CAMBIOS EN EVENTOS
### ========================================

### 10. üìù Actualizar SOLO LA FECHA del evento (debe generar notificaci√≥n)
PUT http://localhost:8000/events/12
Content-Type: application/json

{
  "date": "2025-11-30T18:00:00"
}

### 11. üìç Actualizar SOLO LA UBICACI√ìN del evento (debe generar notificaci√≥n)
PUT http://localhost:8000/events/12
Content-Type: application/json

{
  "location": "Nueva Ubicaci√≥n - Auditorio Central"
}

### 12. üîÑ Actualizar FECHA Y UBICACI√ìN juntos (debe detectar ambos cambios)
PUT http://localhost:8000/events/12
Content-Type: application/json

{
  "date": "2025-12-01T16:00:00",
  "location": "Ubicaci√≥n Final - Hotel Convention"
}

### 13. ‚úèÔ∏è Actualizar solo T√çTULO (NO debe generar notificaci√≥n de cambio cr√≠tico)
PUT http://localhost:8000/events/12
Content-Type: application/json

{
  "title": "Evento Pr√≥ximo - T√≠tulo Actualizado"
}

### 14. üìã Actualizar DESCRIPCI√ìN y MAX_PARTICIPANTS (NO son cambios cr√≠ticos)
PUT http://localhost:8000/events/12
Content-Type: application/json

{
  "description": "Descripci√≥n actualizada con m√°s detalles",
  "max_participants": 80
}

### ========================================
### PARTE 4: VERIFICACI√ìN POST-CAMBIOS
### ========================================

### 15. üîç Ver notificaciones del usuario despu√©s de cambios
# Debe incluir informaci√≥n sobre los cambios realizados
GET http://localhost:8000/social/notifications/user/7
Accept: application/json

### 16. üìä Ver detalles del evento modificado
GET http://localhost:8000/events/12
Accept: application/json

### 17. üë• Ver qui√©nes fueron afectados por los cambios
GET http://localhost:8000/events/12/attendees
Accept: application/json

### ========================================
### PARTE 5: TESTS CON DATOS DEL SEED
### ========================================

### 18. üì± Notificaciones de Juan P√©rez (user_id: 2)
# Juan tiene varios eventos registrados en el seed
GET http://localhost:8000/social/notifications/user/2
Accept: application/json

### 19. üì± Notificaciones del Admin (user_id: 1)
GET http://localhost:8000/social/notifications/user/1
Accept: application/json

### 20. üîÑ Modificar evento del seed que tiene asistentes
# Conferencia de Tecnolog√≠a 2025 (event_id: 1) tiene varios asistentes
PUT http://localhost:8000/events/1
Content-Type: application/json

{
  "date": "2025-12-28T09:00:00",
  "location": "Nuevo Centro de Convenciones - Sede Principal"
}

### 21. üîç Ver notificaciones despu√©s del cambio masivo
GET http://localhost:8000/social/notifications/user/2
Accept: application/json

### ========================================
### PARTE 6: TESTS DE EDGE CASES
### ========================================

### 22. ‚ùå Usuario sin eventos registrados (no debe tener notificaciones)
GET http://localhost:8000/social/notifications/user/5
Accept: application/json

### 23. üîÑ Actualizar evento sin cambiar fecha ni ubicaci√≥n
PUT http://localhost:8000/events/1
Content-Type: application/json

{
  "title": "Conferencia de Tecnolog√≠a 2025 - Solo t√≠tulo cambiado"
}

### 24. üìÖ Actualizar fecha al mismo valor (no debe detectar cambio)
# Primero obtener la fecha actual del evento
GET http://localhost:8000/events/1
Accept: application/json

# Luego actualizar con la misma fecha (ajustar seg√∫n respuesta anterior)
PUT http://localhost:8000/events/1
Content-Type: application/json

{
  "date": "2025-12-28T09:00:00"
}

### ========================================
### PARTE 7: FLUJO COMPLETO DE NOTIFICACI√ìN
### ========================================

### 25. FLUJO PASO 1: Crear evento para ma√±ana
POST http://localhost:8000/events/
Content-Type: application/json

{
  "title": "Workshop Urgente - Ma√±ana",
  "description": "Workshop programado para ma√±ana",
  "date": "2025-11-23T14:00:00",
  "location": "Sala de Conferencias A",
  "max_participants": 30,
  "organizer_id": 1
}

### 26. FLUJO PASO 2: Registrar m√∫ltiples usuarios
POST http://localhost:8000/events/attend
Content-Type: application/json

{
  "user_id": 2,
  "event_id": 13
}

###
POST http://localhost:8000/events/attend
Content-Type: application/json

{
  "user_id": 4,
  "event_id": 13
}

###
POST http://localhost:8000/events/attend
Content-Type: application/json

{
  "user_id": 6,
  "event_id": 13
}

### 27. FLUJO PASO 3: Ver recordatorios del sistema
GET http://localhost:8000/social/notifications/reminders
Accept: application/json

### 28. FLUJO PASO 4: Cambiar ubicaci√≥n de √∫ltimo momento
PUT http://localhost:8000/events/13
Content-Type: application/json

{
  "location": "‚ö†Ô∏è CAMBIO URGENTE: Nueva Sala B - Edificio Principal"
}

### 29. FLUJO PASO 5: Cada usuario verifica sus notificaciones
GET http://localhost:8000/social/notifications/user/2
Accept: application/json

###
GET http://localhost:8000/social/notifications/user/4
Accept: application/json

###
GET http://localhost:8000/social/notifications/user/6
Accept: application/json

### ========================================
### üìù RESUMEN DE TESTS
### ========================================

# Total de tests: 29

# SETUP (6 tests):
#   - Crear usuario de prueba
#   - Crear eventos pr√≥ximos
#   - Registrar asistencias

# RECORDATORIOS (3 tests):
#   - Notificaciones individuales
#   - Recordatorios del sistema

# CAMBIOS EN EVENTOS (5 tests):
#   - Cambio de fecha
#   - Cambio de ubicaci√≥n
#   - Cambios combinados
#   - Cambios no cr√≠ticos

# VERIFICACI√ìN (3 tests):
#   - Post-cambios
#   - Detalles del evento
#   - Usuarios afectados

# DATOS DEL SEED (4 tests):
#   - Notificaciones de usuarios existentes
#   - Cambios masivos

# EDGE CASES (3 tests):
#   - Usuario sin eventos
#   - Sin cambios cr√≠ticos
#   - Mismos valores

# FLUJO COMPLETO (5 tests):
#   - Crear ‚Üí Registrar ‚Üí Notificar ‚Üí Cambiar ‚Üí Verificar

### ========================================
### üìä RESULTADOS ESPERADOS
### ========================================

# ‚úÖ Recordatorios:
# - Eventos en pr√≥ximas 24 horas ‚Üí notification_type: "reminder"
# - Eventos futuros ‚Üí notification_type: "upcoming"
# - Mensaje espec√≠fico con fecha/hora/ubicaci√≥n

# ‚úÖ Cambios:
# - Cambio de fecha ‚Üí "changes_detected": true
# - Cambio de ubicaci√≥n ‚Üí "changes_detected": true
# - Lista de usuarios afectados
# - Mensaje de notificaci√≥n generado

# ‚úÖ Sin cambios cr√≠ticos:
# - Cambio de t√≠tulo/descripci√≥n ‚Üí "changes_detected": false
# - No genera alertas a usuarios

### ========================================
### üîß INSTRUCCIONES DE USO
### ========================================

# 1. Ejecutar tests en orden (importante para SETUP)

# 2. AJUSTAR IDs seg√∫n tu base de datos:
#    - user_id: depende de cu√°ntos usuarios has creado
#    - event_id: depende de cu√°ntos eventos existen

# 3. Para tests de recordatorio, ajustar la fecha:
#    - Usar fecha de MA√ëANA para que aparezca en recordatorios
#    - Formato: "2025-11-23T10:00:00" (ajustar d√≠a actual +1)

### ========================================